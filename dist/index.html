<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Global Tax Engine | Precision Tax Estimates</title>
  <link id="canonical-tag" rel="canonical" href="https://tax.errhub.xyz/" />
  <link rel="alternate" hreflang="en-GB" href="https://tax.errhub.xyz/uk" />
  <link rel="alternate" hreflang="en-US" href="https://tax.errhub.xyz/us" />
  <link rel="alternate" hreflang="en-AU" href="https://tax.errhub.xyz/au" />
  <link rel="alternate" hreflang="en-CA" href="https://tax.errhub.xyz/ca" />
  <link rel="alternate" hreflang="x-default" href="https://tax.errhub.xyz/" />
  <meta name="description"
    content="Calculate your 2025 freelance take-home pay instantly for UK, USA, AU, and CA. Accurate estimates for Income Tax, Social Security, and localized deductions.">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- SEO & Dynamic Verification -->
  <meta property="og:title" content="UK Freelance Tax Calculator 2025 | Instant HMRC Estimates">
  <meta property="og:description"
    content="Calculate your 2025/26 UK freelance take-home pay instantly. Accurate estimates for Income Tax, National Insurance, and Personal Allowance.">
  <meta name="keywords"
    content="UK Freelance Tax Calculator, HMRC Tax Bands, National Insurance Class 4, Personal Allowance 2025, Taxable Profit Calculation">

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "SoftwareApplication",
        "name": "Global Freelance Tax Calculator - UK Edition",
        "operatingSystem": "All",
        "applicationCategory": "FinanceApplication",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "GBP"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "ratingCount": "1250"
        }
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "When is the UK tax year 2025/26?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The UK tax year starts on April 6, 2025, and ends on April 5, 2026. Self-Assessment returns for this period are typically due by January 31, 2027."
            }
          },
          {
            "@type": "Question",
            "name": "What is the Personal Allowance for 2025?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The standard Personal Allowance for the 2025/26 tax year is expected to remain at Â£12,570, allowing you to earn up to this amount tax-free."
            }
          }
        ]
      }
    ]
  }
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Plus Jakarta Sans', 'sans-serif'] },
          animation: { 'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite' }
        }
      }
    }
  </script>
  <style>
    :root {
      --radius-full: 2rem;
      --radius-inner: 1.25rem;
      --radius-ui: 1rem;
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-full);
    }

    .dark .glass-card {
      background: rgba(30, 41, 59, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .transition-theme {
      transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    body {
      background-color: #f8fafc;
      font-family: 'Plus Jakarta Sans', sans-serif;
    }

    body.dark {
      background-color: #020617;
      color: #f1f5f9;
    }

    .ads-container {
      background: #f1f5f9;
      border: 2px dashed #cbd5e1;
      border-radius: var(--radius-inner);
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #64748b;
    }

    .dark .ads-container {
      background: #0f172a;
      border-color: #1e293b;
      color: #475569;
    }

    .ui-shadow {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.05);
    }

    .dark .ui-shadow {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.3);
    }

    /* Custom Dropdown Styles */
    .dropdown-menu {
      transform: translateY(10px) scale(0.95);
      opacity: 0;
      pointer-events: none;
      transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    .dropdown-active .dropdown-menu {
      transform: translateY(0) scale(1);
      opacity: 1;
      pointer-events: auto;
    }

    /* Hide number input arrows */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=number] {
      -moz-appearance: textfield;
      appearance: none;
    }
  </style>
</head>

<body class="transition-theme antialiased">

  <div class="min-h-screen pb-20">
    <!-- Navbar -->
    <nav
      class="bg-white/80 dark:bg-slate-900/80 sticky top-0 z-50 backdrop-blur-md border-b border-slate-200 dark:border-slate-800">
      <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
        <div class="text-xl font-extrabold tracking-tight text-indigo-600 dark:text-indigo-400 uppercase">Global Tax
          Engine
        </div>

        <div class="flex items-center space-x-4">
          <!-- Custom Translation Dropdown -->
          <div id="lang-dropdown" class="relative">
            <button onclick="toggleDropdown('lang-dropdown')"
              class="flex items-center space-x-2 bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-xl font-bold text-xs transition-theme hover:bg-slate-200 dark:hover:bg-slate-700">
              <span id="lang-current">ðŸ‡¬ðŸ‡§ EN</span>
              <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div
              class="dropdown-menu absolute right-0 mt-2 w-32 glass-card ui-shadow z-[60] py-2 overflow-hidden border border-slate-200 dark:border-slate-800">
              <div onclick="selectLang('en', 'ðŸ‡¬ðŸ‡§ EN')"
                class="px-4 py-2 text-xs font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
                ðŸ‡¬ðŸ‡§ EN</div>
              <div onclick="selectLang('id', 'ðŸ‡®ðŸ‡© ID')"
                class="px-4 py-2 text-xs font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
                ðŸ‡®ðŸ‡© ID</div>
              <div onclick="selectLang('es', 'ðŸ‡ªðŸ‡¸ ES')"
                class="px-4 py-2 text-xs font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
                ðŸ‡ªðŸ‡¸ ES</div>
              <div onclick="selectLang('fr', 'ðŸ‡«ðŸ‡· FR')"
                class="px-4 py-2 text-xs font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
                ðŸ‡«ðŸ‡· FR</div>
              <div onclick="selectLang('de', 'ðŸ‡©ðŸ‡ª DE')"
                class="px-4 py-2 text-xs font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
                ðŸ‡©ðŸ‡ª DE</div>
            </div>
          </div>

          <!-- Dark Mode Toggle -->
          <button onclick="toggleDarkMode()"
            class="p-2 rounded-xl bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all">
            <span id="theme-icon">ðŸŒ™</span>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Container -->
    <main class="max-w-7xl mx-auto px-4 mt-8 md:mt-12">
      <div class="text-center mb-12">
        <h1 id="main-title"
          class="text-4xl md:text-5xl font-extrabold text-slate-900 dark:text-white mb-4 transition-all">Precision
          Freelance Tax Calculator</h1>
        <p id="main-subtitle" class="text-lg text-slate-500 dark:text-slate-400 max-w-2xl mx-auto mb-6">Instant 2025 tax
          estimates for global freelancers.</p>

        <!-- Quick Links for SEO -->
        <nav
          class="flex flex-wrap justify-center gap-4 text-xs font-bold text-indigo-500/80 dark:text-indigo-400/80 uppercase tracking-widest">
          <a href="#united-kingdom" onclick="switchCountry('united_kingdom')"
            class="hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors">#united-kingdom</a>
          <span class="text-slate-300">â€¢</span>
          <a href="#united-states" onclick="switchCountry('united_states')"
            class="hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors">#united-states</a>
          <span class="text-slate-300">â€¢</span>
          <a href="#australia" onclick="switchCountry('australia')"
            class="hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors">#australia</a>
          <span class="text-slate-300">â€¢</span>
          <a href="#canada" onclick="switchCountry('canada')"
            class="hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors">#canada</a>
        </nav>
      </div>

      <!-- Toolbar: Country & Currency -->
      <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-16">
        <!-- Country Selector -->
        <div
          class="flex bg-slate-100/50 dark:bg-slate-900/50 p-1.5 rounded-[1.5rem] shadow-inner backdrop-blur-sm border border-slate-200/50 dark:border-slate-800/50">
          <button onclick="switchCountry('united_kingdom')" id="btn-uk"
            class="country-tab px-5 md:px-8 py-3 rounded-[1.25rem] font-bold transition-all text-xs md:text-sm">ðŸ‡¬ðŸ‡§
            UK</button>
          <button onclick="switchCountry('united_states')" id="btn-us"
            class="country-tab px-5 md:px-8 py-3 rounded-[1.25rem] font-bold transition-all text-xs md:text-sm">ðŸ‡ºðŸ‡¸
            USA</button>
          <button onclick="switchCountry('australia')" id="btn-au"
            class="country-tab px-5 md:px-8 py-3 rounded-[1.25rem] font-bold transition-all text-xs md:text-sm">ðŸ‡¦ðŸ‡º
            AU</button>
          <button onclick="switchCountry('canada')" id="btn-ca"
            class="country-tab px-5 md:px-8 py-3 rounded-[1.25rem] font-bold transition-all text-xs md:text-sm">ðŸ‡¨ðŸ‡¦
            CA</button>
        </div>

        <!-- Custom Currency Selector -->
        <div id="currency-dropdown" class="relative group">
          <button onclick="toggleDropdown('currency-dropdown')"
            class="flex items-center space-x-3 bg-indigo-50/50 dark:bg-indigo-900/10 px-6 py-3 rounded-[1.5rem] border border-indigo-100 dark:border-indigo-800/50 backdrop-blur-sm shadow-sm transition-all hover:border-indigo-300 dark:hover:border-indigo-600">
            <span id="label-convert"
              class="text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] whitespace-nowrap">Display
              in</span>
            <span id="currency-current" class="text-sm font-black text-slate-900 dark:text-white">Native</span>
            <svg class="h-4 w-4 text-indigo-500 transition-transform group-[.dropdown-active]:rotate-180" fill="none"
              stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div
            class="dropdown-menu absolute left-0 md:left-auto md:right-0 mt-3 w-48 glass-card ui-shadow z-[60] py-3 overflow-hidden border border-slate-200 dark:border-slate-800">
            <div onclick="selectCurrency('ORIGINAL', 'Native')"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              Native</div>
            <div onclick="selectCurrency('USD', 'USD ($)')"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              USD ($)</div>
            <div onclick="selectCurrency('EUR', 'EUR (â‚¬)')"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              EUR (â‚¬)</div>
            <div onclick="selectCurrency('IDR', 'IDR (Rp)')"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              IDR (Rp)</div>
            <div onclick="selectCurrency('AUD', 'AUD (A$)' )"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              AUD (A$)</div>
            <div onclick="selectCurrency('CAD', 'CAD (C$)' )"
              class="px-5 py-3 text-sm font-black hover:bg-indigo-50 dark:hover:bg-indigo-900/40 cursor-pointer transition-colors">
              CAD (C$)</div>
          </div>
        </div>
      </div>

      <div class="grid lg:grid-cols-12 gap-8 items-start">
        <!-- Left: Inputs -->
        <div class="lg:col-span-5 space-y-6">
          <div class="glass-card p-10 ui-shadow transition-all hover:shadow-2xl">
            <h2 class="text-2xl font-extrabold mb-10 flex items-center tracking-tight text-slate-800 dark:text-white">
              <span id="country-label" class="mr-2">United Kingdom</span> <span id="label-details">Details</span>
            </h2>

            <div class="space-y-8">
              <div>
                <label id="label-income"
                  class="block text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mb-3">Annual
                  Gross Income</label>
                <div class="relative group">
                  <span id="input-currency-symbol"
                    class="absolute left-5 top-1/2 -translate-y-1/2 text-xl font-bold text-slate-400 transition-colors group-focus-within:text-indigo-500">Â£</span>
                  <input type="number" id="annual-income" value="50000" oninput="calculate()"
                    class="w-full pl-14 pr-6 py-5 bg-slate-50 dark:bg-slate-900/50 border-2 border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-800 rounded-[1.25rem] text-2xl font-black transition-all outline-none text-slate-900 dark:text-white ui-shadow">
                </div>
              </div>

              <div>
                <label id="label-expenses"
                  class="block text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mb-3">Business
                  Expenses</label>
                <input type="number" id="expenses" value="5000" oninput="calculate()"
                  class="w-full px-6 py-5 bg-slate-50 dark:bg-slate-900/50 border-2 border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-800 rounded-[1.25rem] text-xl font-black transition-all outline-none text-slate-900 dark:text-white ui-shadow">
              </div>
            </div>

            <div class="ads-container mt-12 bg-slate-100/50 dark:bg-slate-900/50">Ads Placeholder</div>
          </div>
        </div>

        <!-- Right: Results -->
        <div class="lg:col-span-7 space-y-6">
          <div class="glass-card p-10 ui-shadow">
            <div class="grid md:grid-cols-2 gap-10 items-center">
              <div>
                <h2 id="label-breakdown"
                  class="text-2xl font-extrabold mb-8 tracking-tight text-slate-800 dark:text-white">Annual Breakdown
                </h2>
                <div class="space-y-5">
                  <div
                    class="p-8 rounded-[1.5rem] bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-800/50 transition-all hover:scale-[1.02] ui-shadow">
                    <p id="label-net"
                      class="text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] mb-2">
                      Net
                      Take-Home</p>
                    <p id="net-pay" class="text-5xl font-black text-slate-900 dark:text-white tracking-tighter">Â£0.00
                    </p>
                    <p id="period-pay" class="text-sm font-semibold text-slate-500 dark:text-slate-400 mt-2">Â£0.00 per
                      month</p>
                  </div>

                  <div class="flex justify-between items-center px-4 py-1">
                    <span id="label-tax" class="text-slate-500 dark:text-slate-400 font-bold">Income Tax</span>
                    <span id="tax-amount" class="text-xl font-black text-rose-500">Â£0.00</span>
                  </div>
                  <div class="flex justify-between items-center px-4 py-1">
                    <span id="social-label" class="text-slate-500 dark:text-slate-400 font-bold">Social
                      Security</span>
                    <span id="social-amount" class="text-xl font-black text-amber-500">Â£0.00</span>
                  </div>
                </div>
              </div>
              <div class="flex justify-center relative scale-110">
                <canvas id="resultChart"></canvas>
              </div>
            </div>
          </div>

          <div id="dynamic-guide"
            class="glass-card p-12 ui-shadow prose dark:prose-invert max-w-none border-indigo-50 dark:border-indigo-900/20">
          </div>
        </div>
      </div>
    </main>
    <section class="max-w-7xl mx-auto px-4 mt-24 mb-12">
      <div class="glass-card p-12 ui-shadow border-indigo-50 dark:border-indigo-900/20">
        <h2 class="text-3xl font-extrabold text-indigo-600 dark:text-indigo-400 mb-6">Our Mission: Tax Transparency for
          All</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
          <div>
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed mb-6 font-medium">
              Global Tax Engine was built with a single purpose: to empower freelancers with precision tax analytics. I
              believe that financial transparency shouldn't be a luxury.
            </p>
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
              By leveraging live data directly from official government sourcesâ€”including **HMRC**, the **IRS**, the
              **ATO**, and **Canada.ca**â€”we provide a clear, localized view of your take-home pay, regardless of where
              your hustle takes you.
            </p>
          </div>
          <div
            class="bg-indigo-50/50 dark:bg-indigo-900/20 p-8 rounded-2xl border border-indigo-100 dark:border-indigo-800/50">
            <h3 class="text-indigo-900 dark:text-indigo-300 font-bold mb-4 flex items-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z">
                </path>
              </svg>
              Verified Sources
            </h3>
            <ul class="space-y-3 text-sm text-slate-500 dark:text-slate-400">
              <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-500 rounded-full mr-3"></span>UK: GOV.UK
                (HMRC) Rates</li>
              <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-500 rounded-full mr-3"></span>USA: IRS
                Federal Tax Brackets</li>
              <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-500 rounded-full mr-3"></span>AU: ATO
                Resident Rates</li>
              <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-500 rounded-full mr-3"></span>CA:
                Canada.ca Federal Rates</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <footer class="max-w-7xl mx-auto px-4 py-16 border-t border-slate-200 dark:border-slate-800 mt-24">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
        <div class="col-span-1 md:col-span-1">
          <div class="text-xl font-extrabold tracking-tight text-indigo-600 dark:text-indigo-400 uppercase mb-4">Global
            Tax Engine</div>
          <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
            Precision tax estimates for the modern freelance economy. Verified 2025 data for secure financial planning.
          </p>
        </div>

        <div>
          <h4 class="font-bold text-slate-900 dark:text-white mb-4">Calculators</h4>
          <ul class="space-y-2 text-sm text-slate-500 dark:text-slate-400">
            <li><a href="#united-kingdom" onclick="switchCountry('united_kingdom')"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">UK Salary After Tax</a></li>
            <li><a href="#united-states" onclick="switchCountry('united_states')"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">US Paycheck Estimator</a>
            </li>
            <li><a href="#australia" onclick="switchCountry('australia')"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">Australia Income Tax</a></li>
            <li><a href="#canada" onclick="switchCountry('canada')"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">Canada (Ontario) Tax</a></li>
          </ul>
        </div>

        <div>
          <h4 class="font-bold text-slate-900 dark:text-white mb-4">Resources</h4>
          <ul class="space-y-2 text-sm text-slate-500 dark:text-slate-400">
            <li><a href="/privacy-policy.html"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">Privacy Policy</a></li>
            <li><a href="/terms-of-service.html"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">Terms of Service</a></li>
            <li><button onclick="document.getElementById('main-title').scrollIntoView({behavior: 'smooth'})"
                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors text-left">About Global Tax
                Engine</button></li>
          </ul>
        </div>

        <div>
          <h4 class="font-bold text-slate-900 dark:text-white mb-4">Official Sources</h4>
          <ul class="space-y-2 text-sm text-slate-500 dark:text-slate-400">
            <li><a href="https://www.gov.uk/government/organisations/hm-revenue-customs" target="_blank"
                rel="noopener noreferrer"
                class="flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">ðŸ‡¬ðŸ‡§
                HMRC</a></li>
            <li><a href="https://www.irs.gov/" target="_blank" rel="noopener noreferrer"
                class="flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">ðŸ‡ºðŸ‡¸
                IRS</a></li>
            <li><a href="https://www.ato.gov.au/" target="_blank" rel="noopener noreferrer"
                class="flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">ðŸ‡¦ðŸ‡º
                ATO</a></li>
            <li><a href="https://www.canada.ca/en/revenue-agency.html" target="_blank" rel="noopener noreferrer"
                class="flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">ðŸ‡¨ðŸ‡¦ Canada
                Revenue Agency</a></li>
          </ul>
        </div>
      </div>

      <div
        class="pt-8 border-t border-slate-200 dark:border-slate-800 flex flex-col md:flex-row justify-between items-center gap-4">
        <p class="text-xs text-slate-400 font-medium">&copy; 2025 Global Tax Engine | tax.errhub.xyz. Financial
          estimates only. <span id="last-updated" class="italic ml-2"></span></p>
      </div>
    </footer>
  </div>

  <script>
    const TRANSLATIONS = {
      en: {
        title: "Global Tax Engine",
        subtitle: "Precision tax estimates for global freelancers.",
        details: "Details",
        income: "Annual Gross Income",
        expenses: "Business Expenses",
        breakdown: "Annual Breakdown",
        net: "Net Take-Home",
        tax: "Income Tax",
        convert: "Display in:",
        per_month: "per month",
        per_fortnight: "per fortnight"
      },
      id: {
        title: "Kalkulator Pajak Freelance Presisi",
        subtitle: "Estimasi pajak 2025 instan untuk freelancer global.",
        details: "Detail",
        income: "Pendapatan Bruto Tahunan",
        expenses: "Biaya Operasional",
        breakdown: "Rincian Tahunan",
        net: "Gaji Bersih (Take-Home)",
        tax: "Pajak Penghasilan",
        convert: "Tampilkan dalam:",
        per_month: "per bulan",
        per_fortnight: "per dua minggu"
      },
      es: {
        title: "Calculadora de Impuestos para AutÃ³nomos",
        subtitle: "Estimaciones fiscales instantÃ¡neas 2025 para freelancers globales.",
        details: "Detalles",
        income: "Ingresos Brutos Anuales",
        expenses: "Gastos de Negocio",
        breakdown: "Desglose Anual",
        net: "Pago Neto",
        tax: "Impuesto sobre la Renta",
        convert: "Mostrar en:",
        per_month: "por mes",
        per_fortnight: "por quincena"
      },
      fr: {
        title: "Calculateur d'ImpÃ´ts pour IndÃ©pendants",
        subtitle: "Estimations fiscales instantanÃ©es 2025 pour les freelances mondiaux.",
        details: "DÃ©tails",
        income: "Revenu Brut Annuel",
        expenses: "DÃ©penses Professionnelles",
        breakdown: "RÃ©partition Annuelle",
        net: "Salaire Net",
        tax: "ImpÃ´t sur le Revenu",
        convert: "Afficher en:",
        per_month: "par mois",
        per_fortnight: "tous les quinze jours"
      },
      de: {
        title: "Steuerrechner fÃ¼r Freiberufler",
        subtitle: "Sofortige SteuerschÃ¤tzungen 2025 fÃ¼r globale Freelancer.",
        details: "Details",
        income: "JÃ¤hrliches Bruttoeinkommen",
        expenses: "GeschÃ¤ftsausgaben",
        breakdown: "JÃ¤hrliche AufschlÃ¼sselung",
        net: "Nettoverdienst",
        tax: "Einkommensteuer",
        convert: "Anzeigen in:",
        per_month: "pro Monat",
        per_fortnight: "alle zwei Wochen"
      }
    };

    const CONFIG = {
      united_kingdom: {
        name: "United Kingdom", currency: "Â£", social: "National Insurance", freq: "Monthly",
        guide: `
          <h2 class="text-indigo-600 dark:text-indigo-400 text-2xl font-bold mb-4">Navigating the April 2025 Tax Transition</h2>
          <p class="mb-4">As we approach the <strong>April 6, 2025</strong> threshold, UK freelancers must prepare for a fiscal landscape increasingly focused on digital compliance and frozen thresholds. While the <strong>Personal Allowance</strong> remains anchored at <strong>Â£12,570</strong>, the "fiscal drag" effect means that many solopreneurs will find themselves nudged into the 40% Higher Rate band as their nominal earnings increase.</p>
          <p class="mb-6">Recent policy refinements have also seen adjustments to <strong>National Insurance Class 4</strong> rates, aimed at simplifying the burden on the self-employed. For those operating via limited companies, the main rate of Corporation Tax continues to favor high-revenue firms, making accurate "Salary vs. Dividend" strategies more critical than ever.</p>
          
          <div class="bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border-l-4 border-indigo-500 mb-8">
            <h3 class="text-slate-800 dark:text-white font-bold mb-3">Key 2025 Deadlines:</h3>
            <ul class="list-disc pl-5 space-y-1 text-sm text-slate-600 dark:text-slate-400">
              <li><strong>31 Oct 2025:</strong> Paper Self-Assessment Deadline</li>
              <li><strong>31 Jan 2026:</strong> Online Self-Assessment & First Payment on Account</li>
            </ul>
          </div>

          <div class="flex flex-wrap gap-3 mt-8 pt-8 border-t border-slate-200 dark:border-slate-800">
            <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mt-1">Explore Other Regions:</span>
            <a href="#united-states" onclick="switchCountry('united_states')" class="text-sm font-semibold text-indigo-600 hover:underline">US Tax</a>
            <span class="text-slate-300">â€¢</span>
            <a href="#australia" onclick="switchCountry('australia')" class="text-sm font-semibold text-indigo-600 hover:underline">Australia Tax</a>
            <span class="text-slate-300">â€¢</span>
            <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="text-sm font-semibold text-slate-500 hover:text-slate-800 dark:hover:text-slate-300">Back to Top â†‘</button>
          </div>
        `,
        logic: (g, e) => {
          const p = Math.max(0, g - e); const a = 12570; let t = 0; const tx = Math.max(0, p - a);
          if (tx > 0) { if (tx <= 37700) t = tx * 0.2; else if (tx <= 112570) t = 7540 + (tx - 37700) * 0.4; else t = 7540 + 29948 + (tx - 112570) * 0.45; }
          let ni = 0; if (p > 12570) { ni += Math.min(p - 12570, 37700) * 0.06; if (p > 50270) ni += (p - 50270) * 0.02; }
          return { p, t, s: ni, n: p - t - ni, f: "per_month" };
        }
      },
      united_states: {
        name: "United States", currency: "$", social: "FICA (SE)", freq: "Monthly",
        guide: `
          <h2 class="text-indigo-600 dark:text-indigo-400 text-2xl font-bold mb-4">US 2025 Federal Tax Overview</h2>
          <p class="mb-4">For the 2025 tax year, the IRS has adjusted tax brackets to account for inflation. As a freelancer, your primary concerns are <strong>Federal Income Tax</strong> and <strong>Self-Employment Tax (FICA)</strong>.</p>
          <p class="mb-6">FICA remains a flat <strong>15.3%</strong> on 92.35% of your net profits, covering Social Security and Medicare. Unlike W-2 employees, you cover both the employer and employee portions, though you can deduct half of this tax on your return.</p>

          <div class="flex flex-wrap gap-3 mt-8 pt-8 border-t border-slate-200 dark:border-slate-800">
             <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mt-1">Explore Other Regions:</span>
             <a href="#united-kingdom" onclick="switchCountry('united_kingdom')" class="text-sm font-semibold text-indigo-600 hover:underline">UK Tax</a>
             <span class="text-slate-300">â€¢</span>
             <a href="#canada" onclick="switchCountry('canada')" class="text-sm font-semibold text-indigo-600 hover:underline">Canada Tax</a>
             <span class="text-slate-300">â€¢</span>
             <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="text-sm font-semibold text-slate-500 hover:text-slate-800 dark:hover:text-slate-300">Back to Top â†‘</button>
          </div>
        `,
        logic: (g, e) => {
          const p = Math.max(0, g - e); const tx = Math.max(0, p - 15000); let t = 0;
          const b = [{ t: 626350, r: 0.37 }, { t: 250525, r: 0.35 }, { t: 197300, r: 0.32 }, { t: 103350, r: 0.24 }, { t: 48475, r: 0.22 }, { t: 11925, r: 0.12 }, { t: 0, r: 0.1 }];
          let rem = tx; for (let i of b) { if (rem > i.t) { t += (rem - i.t) * i.r; rem = i.t; } }
          const fica = (p * 0.9235) * 0.153; return { p, t, s: fica, n: p - t - fica, f: "per_month" };
        }
      },
      australia: {
        name: "Australia", currency: "A$", social: "Medicare Levy", freq: "Fortnightly",
        guide: `
          <h2 class="text-indigo-600 dark:text-indigo-400 text-2xl font-bold mb-4">Australia FY 2024/25 Rates</h2>
          <p class="mb-4">Australian sole traders pay tax at the same personal income tax rates as employees. However, you must also account for the <strong>Medicare Levy</strong>, which is arguably the most significant flat tax at <strong>2%</strong> of your taxable income.</p>
          <p class="mb-6">The tax-free threshold sits at <strong>$18,200</strong>. Earning above this means you enter the progressive tax system. Ensure you are setting aside roughly 25-30% of your gross income to cover your quarterly BAS (Business Activity Statement) obligations.</p>
          
           <div class="flex flex-wrap gap-3 mt-8 pt-8 border-t border-slate-200 dark:border-slate-800">
             <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mt-1">Explore Other Regions:</span>
             <a href="#united-kingdom" onclick="switchCountry('united_kingdom')" class="text-sm font-semibold text-indigo-600 hover:underline">UK Tax</a>
             <span class="text-slate-300">â€¢</span>
             <a href="#united-states" onclick="switchCountry('united_states')" class="text-sm font-semibold text-indigo-600 hover:underline">US Tax</a>
             <span class="text-slate-300">â€¢</span>
             <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="text-sm font-semibold text-slate-500 hover:text-slate-800 dark:hover:text-slate-300">Back to Top â†‘</button>
          </div>
        `,
        logic: (g, e) => {
          const p = Math.max(0, g - e); let t = 0;
          if (p > 190000) t = 59667 + (p - 190000) * 0.45; else if (p > 135000) t = 39317 + (p - 135000) * 0.37;
          else if (p > 45000) t = 4288 + (p - 45000) * 0.3; else if (p > 18200) t = (p - 18200) * 0.16;
          return { p, t, s: p * 0.02, n: p - t - (p * 0.02), f: "per_fortnight" };
        }
      },
      canada: {
        name: "Canada", currency: "C$", social: "CPP", freq: "Monthly",
        guide: `
          <h2 class="text-indigo-600 dark:text-indigo-400 text-2xl font-bold mb-4">Canada 2025 Combined Estimates</h2>
          <p class="mb-4">This calculator estimates your <strong>Combined Federal & Ontario Provincial Tax</strong>. As a self-employed Canadian, you must contribute to the <strong>Canada Pension Plan (CPP)</strong>.</p>
          <p class="mb-6">For 2025, the CPP contribution rate for self-employed individuals is <strong>11.9%</strong>, capped at the Year's Maximum Pensionable Earnings (YMPE). You can claim a tax deduction for the "employer" portion of your CPP contributions, effectively reducing your taxable income.</p>
          
          <div class="flex flex-wrap gap-3 mt-8 pt-8 border-t border-slate-200 dark:border-slate-800">
             <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mt-1">Explore Other Regions:</span>
             <a href="#united-kingdom" onclick="switchCountry('united_kingdom')" class="text-sm font-semibold text-indigo-600 hover:underline">UK Tax</a>
             <span class="text-slate-300">â€¢</span>
             <a href="#united-states" onclick="switchCountry('united_states')" class="text-sm font-semibold text-indigo-600 hover:underline">US Tax</a>
             <span class="text-slate-300">â€¢</span>
             <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="text-sm font-semibold text-slate-500 hover:text-slate-800 dark:hover:text-slate-300">Back to Top â†‘</button>
          </div>
        `,
        logic: (g, e) => {
          const p = Math.max(0, g - e); let f = p > 253414 ? 59000 + (p - 253414) * 0.33 : p > 177882 ? 37000 + (p - 177882) * 0.29 : p > 114750 ? 20000 + (p - 114750) * 0.26 : p > 57375 ? 8600 + (p - 57375) * 0.205 : p * 0.15;
          let pr = p > 220000 ? 24000 + (p - 220000) * 0.1316 : p > 150000 ? 15000 + (p - 150000) * 0.1216 : p > 105004 ? 10000 + (p - 105004) * 0.1116 : p > 52502 ? 2650 + (p - 52502) * 0.0915 : p * 0.0505;
          const cpp = Math.min(p, 67800) * 0.119; return { p, t: f + pr, s: cpp, n: p - (f + pr) - cpp, f: "per_month" };
        }
      }
    };

    let currentCountry = 'united_kingdom';
    let currentLang = 'en';
    let chartInstance = null;
    let exchangeRates = { USD: 1.27, EUR: 1.16, IDR: 20000, AUD: 1.88, CAD: 1.72, GBP: 1 };

    async function fetchRates() {
      try {
        const res = await fetch('https://api.frankfurter.app/latest?from=GBP');
        const data = await res.json();
        exchangeRates = { ...data.rates, GBP: 1 };
      } catch (e) { console.log("Using fallback rates"); }
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      document.getElementById('theme-icon').innerText = isDark ? 'ðŸŒž' : 'ðŸŒ™';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    function toggleDropdown(id) {
      const el = document.getElementById(id);
      const isActive = el.classList.contains('dropdown-active');
      document.querySelectorAll('.dropdown-active').forEach(d => d.classList.remove('dropdown-active'));
      if (!isActive) el.classList.add('dropdown-active');
    }

    window.onclick = function (e) {
      if (!e.target.closest('#currency-dropdown') && !e.target.closest('#lang-dropdown')) {
        document.querySelectorAll('.dropdown-active').forEach(d => d.classList.remove('dropdown-active'));
      }
    };

    let selectedCurrency = 'ORIGINAL';
    function selectCurrency(val, label) {
      selectedCurrency = val;
      document.getElementById('currency-current').innerText = label;
      document.getElementById('currency-dropdown').classList.remove('dropdown-active');
      calculate();
    }

    function selectLang(val, label) {
      currentLang = val;
      document.getElementById('lang-current').innerText = label;
      document.getElementById('lang-dropdown').classList.remove('dropdown-active');
      switchLanguage();
    }

    function switchLanguage() {
      const lang = TRANSLATIONS[currentLang];
      document.getElementById('main-title').innerText = lang.title;
      document.getElementById('main-subtitle').innerText = lang.subtitle;
      document.getElementById('label-details').innerText = lang.details;
      document.getElementById('label-income').innerText = lang.income;
      document.getElementById('label-expenses').innerText = lang.expenses;
      document.getElementById('label-breakdown').innerText = lang.breakdown;
      document.getElementById('label-net').innerText = lang.net;
      document.getElementById('label-tax').innerText = lang.tax;
      document.getElementById('label-convert').innerText = lang.convert;
      calculate();
    }

    function switchCountry(key) {
      const regionPath = { "united_kingdom": "/uk", "united_states": "/us", "australia": "/au", "canada": "/ca" }[key] || "";
      document.getElementById("canonical-tag").setAttribute("href", "https://tax.errhub.xyz" + regionPath);
      currentCountry = key;
      const config = CONFIG[key];
      document.getElementById('country-label').innerText = config.name;
      document.getElementById('input-currency-symbol').innerText = config.currency;
      document.getElementById('social-label').innerText = config.social;
      document.getElementById('dynamic-guide').innerHTML = config.guide;

      document.querySelectorAll('.country-tab').forEach(btn => btn.className = "country-tab px-4 md:px-6 py-2 rounded-xl font-bold transition-all text-xs md:text-sm text-slate-500");
      const activeId = { 'united_kingdom': 'uk', 'united_states': 'us', 'australia': 'au', 'canada': 'ca' }[key];
      document.getElementById('btn-' + activeId).className = "country-tab px-4 md:px-6 py-2 rounded-xl font-bold transition-all text-xs md:text-sm bg-indigo-600 text-white shadow-lg";
      calculate();
    }

    function calculate() {
      const income = parseFloat(document.getElementById('annual-income').value) || 0;
      const expenses = parseFloat(document.getElementById('expenses').value) || 0;
      const res = CONFIG[currentCountry].logic(income, expenses);

      const targetCurrency = selectedCurrency;
      const baseCurrency = { united_kingdom: 'GBP', united_states: 'USD', australia: 'AUD', canada: 'CAD' }[currentCountry];

      // Conversion logic
      let rate = 1;
      let symbol = CONFIG[currentCountry].currency;
      if (targetCurrency !== 'ORIGINAL') {
        const toGBP = 1 / exchangeRates[baseCurrency];
        rate = toGBP * exchangeRates[targetCurrency];
        symbol = { USD: '$', EUR: 'â‚¬', IDR: 'Rp ', AUD: 'A$', CAD: 'C$', GBP: 'Â£' }[targetCurrency];
      }

      const fmt = (v) => symbol + (v * rate).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      const lang = TRANSLATIONS[currentLang];

      document.getElementById('net-pay').innerText = fmt(res.n);
      document.getElementById('tax-amount').innerText = fmt(res.t);
      document.getElementById('social-amount').innerText = fmt(res.s);

      const periodVal = res.f === 'per_fortnight' ? res.n / 26 : res.n / 12;
      document.getElementById('period-pay').innerText = fmt(periodVal) + " " + lang[res.f];

      updateChart(res);
    }

    function updateChart(res) {
      const ctx = document.getElementById('resultChart').getContext('2d');
      const data = {
        labels: ['Net', 'Tax', 'Social'],
        datasets: [{ data: [res.n, res.t, res.s], backgroundColor: ['#4f46e5', '#f43f5e', '#f59e0b'], borderWidth: 0, hoverOffset: 20 }]
      };
      if (chartInstance) {
        chartInstance.data = data;
        chartInstance.update();
      } else {
        chartInstance = new Chart(ctx, { type: 'doughnut', data, options: { cutout: '75%', plugins: { legend: { display: false } }, animation: { animateScale: true } } });
      }
    }

    // Init
    if (localStorage.getItem('theme') === 'dark') toggleDarkMode();
    fetchRates();
    async function fetchUpdateTimestamp() {
      try {
        const res = await fetch("global_tax_config.json");
        const data = await res.json();
        if (data.metadata && data.metadata.last_updated) {
          const date = new Date(data.metadata.last_updated);
          const formatted = date.toLocaleDateString("en-US", { month: "short", day: "numeric", year: "numeric" });
          document.getElementById("last-updated").innerText = "Last Updated: " + formatted;
        }
      } catch (e) { console.log("Timestamp fetch failed"); }
    }
    fetchUpdateTimestamp();
    // Handle Initial Hash
    const hash = window.location.hash.replace('#', '');
    const map = { 'united-kingdom': 'united_kingdom', 'united-states': 'united_states', 'australia': 'australia', 'canada': 'canada' };
    if (map[hash]) switchCountry(map[hash]);
    else switchCountry('united_kingdom');

    // Handle Hash Changes
    window.onhashchange = () => {
      const h = window.location.hash.replace('#', '');
      if (map[h]) switchCountry(map[h]);
    };

    switchLanguage();
  </script>
</body>

</html>